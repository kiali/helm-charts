name: "deployment_image_pull_secrets"
description: "Verify image pull secrets are configured correctly in ServiceAccount"
helm_args:
  - "--set"
  - "image.pullSecrets[0]=my-registry-secret"
  - "--set"
  - "image.pullSecrets[1]=another-secret"
yq_query: "select(.kind == \"ServiceAccount\") | .imagePullSecrets"
expected_result: |
  - name: my-registry-secret
  - name: another-secret
should_fail: false
